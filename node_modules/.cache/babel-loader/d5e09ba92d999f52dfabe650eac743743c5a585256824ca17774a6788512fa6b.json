{"ast":null,"code":"import api from \"./apiCRUDSlice\";\n\n// export const create = (data:any) =>{\n//     return({\n//         type:'create',\n//         payload:data\n// })\n// } \n\nexport const ACTION_TYPES = {\n  CREATE: \"CREATE\",\n  UPDATE: \"UPDATE\",\n  DELETE: \"DELETE\",\n  FETCH_ID: \"FETCH_ID\",\n  FETCH_ALL: \"FETCH_ALL\"\n};\n\n// const FormateDate = (data:SignUpProps) =>({\n//   ...data,\n//   dateOfBirth\n// :data.dateOfBirth\n// })\n\nexport const fetchAll = () => dispatch => {\n  api.dUser({}).fetchAll().then(response => {\n    dispatch({\n      type: ACTION_TYPES.FETCH_ALL,\n      payload: response.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const fetchById = ({\n  id\n}) => dispatch => {\n  api.dUser({}).fetchById(id).then(res => {\n    dispatch({\n      type: ACTION_TYPES.FETCH_ID,\n      payload: res.data\n    });\n  });\n};\n// export const create = ({data,onSuccess}:onCreateProps)=>  (dispatch: AppDispatch) =>{\n// // data = FormateDate(data)\n// window.alert(data)\n// const res =  api.dUser({}).create(data).then((res)=>{\n//    const result = res.json()\n//   dispatch({\n//     type:ACTION_TYPES.CREATE,\n//     payload:res\n//   })\n//   // onSuccess()\n// }).catch(err=>console.log(err))\n// }\nexport const create = data => dispatch => {\n  api.dUser({}).create(data).then(res => {\n    console.log(\"API Response:\", res.data);\n    dispatch({\n      type: ACTION_TYPES.CREATE,\n      payload: res.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const update = ({\n  id,\n  data,\n  onSuccess\n}) => dispatch => {\n  // data = FormateDate(data)\n  api.dUser({}).update(id, data).then(res => {\n    dispatch({\n      type: ACTION_TYPES.UPDATE,\n      payload: {\n        id: id,\n        ...data\n      }\n    });\n    // onSuccess()\n  }).catch(err => console.log(err));\n};\nexport const delete_ = ({\n  id,\n  data,\n  onSuccess\n}) => dispatch => {\n  // data = FormateDate(data)\n  api.dUser({}).delete(id).then(res => {\n    dispatch({\n      type: ACTION_TYPES.DELETE,\n      payload: id\n    });\n    // onSuccess()\n  }).catch(err => console.log(err));\n};","map":{"version":3,"names":["api","ACTION_TYPES","CREATE","UPDATE","DELETE","FETCH_ID","FETCH_ALL","fetchAll","dispatch","dUser","then","response","type","payload","data","catch","err","console","log","fetchById","id","res","create","update","onSuccess","delete_","delete"],"sources":["D:/experianProject/experian/ExperianWorkshop/src/actions/Duser.ts"],"sourcesContent":["import { AppDispatch } from \"./store\";\r\nimport api from \"./apiCRUDSlice\";\r\nimport { SignUpProps } from \"../types/form\";\r\n// export const create = (data:any) =>{\r\n//     return({\r\n//         type:'create',\r\n//         payload:data\r\n// })\r\n// } \r\ninterface onCreateProps{\r\n  data:SignUpProps;\r\n  onSuccess?: () => void; \r\n}\r\ninterface onUpdateProps extends onCreateProps{\r\n  id:string;\r\n}\r\nexport const ACTION_TYPES = {\r\n  CREATE: \"CREATE\",\r\n  UPDATE: \"UPDATE\",\r\n  DELETE: \"DELETE\",\r\n  FETCH_ID:\"FETCH_ID\",\r\n  FETCH_ALL: \"FETCH_ALL\",\r\n};\r\n\r\n// const FormateDate = (data:SignUpProps) =>({\r\n//   ...data,\r\n//   dateOfBirth\r\n// :data.dateOfBirth\r\n// })\r\n\r\nexport const fetchAll = () => (dispatch: AppDispatch) => {\r\n  api\r\n    .dUser({})\r\n    .fetchAll()\r\n    .then((response) => {\r\n      dispatch({\r\n        type: ACTION_TYPES.FETCH_ALL,\r\n        payload: response.data,\r\n      });\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\nexport const fetchById = ({id}:onUpdateProps) => (dispatch:AppDispatch)=>{\r\n  api.dUser({}).fetchById(id).then((res)=>{\r\n    dispatch({\r\n      type:ACTION_TYPES.FETCH_ID,\r\n      payload:res.data,\r\n    })\r\n  })\r\n}\r\n// export const create = ({data,onSuccess}:onCreateProps)=>  (dispatch: AppDispatch) =>{\r\n// // data = FormateDate(data)\r\n// window.alert(data)\r\n// const res =  api.dUser({}).create(data).then((res)=>{\r\n//    const result = res.json()\r\n//   dispatch({\r\n//     type:ACTION_TYPES.CREATE,\r\n//     payload:res\r\n//   })\r\n//   // onSuccess()\r\n// }).catch(err=>console.log(err))\r\n// }\r\nexport const create = (data:SignUpProps)=> (dispatch:AppDispatch)=>{\r\n   api.dUser({}).create(data).then(res=>{\r\n    console.log(\"API Response:\",res.data);\r\n    dispatch({\r\n      type:ACTION_TYPES.CREATE,\r\n      payload:res.data\r\n    })\r\n  }).catch(err=>console.log((err)))\r\n}\r\nexport const update = ({id,data,onSuccess}:onUpdateProps)=>  (dispatch: AppDispatch) =>{\r\n  // data = FormateDate(data)\r\n  api.dUser({}).update(id,data).then(res=>{\r\n    dispatch({\r\n      type:ACTION_TYPES.UPDATE,\r\n      payload:{id:id,...data}\r\n    })\r\n    // onSuccess()\r\n  }).catch(err=>console.log(err))\r\n  }\r\n  export const delete_ = ({id,data,onSuccess}:onUpdateProps)=>  (dispatch: AppDispatch) =>{\r\n    // data = FormateDate(data)\r\n    api.dUser({}).delete(id).then(res=>{\r\n      dispatch({\r\n        type:ACTION_TYPES.DELETE,\r\n        payload:id\r\n      })\r\n      // onSuccess()\r\n    }).catch(err=>console.log(err))\r\n    }\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}