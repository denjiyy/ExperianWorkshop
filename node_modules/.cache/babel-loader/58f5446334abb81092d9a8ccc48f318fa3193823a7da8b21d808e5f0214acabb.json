{"ast":null,"code":"import api from \"./api\";\n\n// export const create = (data:any) =>{\n//     return({\n//         type:'create',\n//         payload:data\n// })\n// } \n\nexport const ACTION_TYPES = {\n  CREATE: \"CREATE\",\n  UPDATE: \"UPDATE\",\n  DELETE: \"DELETE\",\n  FETCH_ALL: \"FETCH_ALL\"\n};\n\n// const FormateDate = (data:SignUpProps) =>({\n//   ...data,\n//   dateOfBirth\n// :data.dateOfBirth\n// })\n\nexport const fetchAll = () => dispatch => {\n  api.dUser({}).fetchAll().then(response => {\n    dispatch({\n      type: ACTION_TYPES.FETCH_ALL,\n      payload: response.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const create = ({\n  data,\n  onSuccess\n}) => dispatch => {\n  // data = FormateDate(data)\n  api.dUser({}).create(data).then(async res => {\n    const result = await res.json();\n    dispatch({\n      type: ACTION_TYPES.CREATE,\n      payload: result\n    });\n    // onSuccess()\n  }).catch(err => console.log(err));\n};\nexport const update = ({\n  id,\n  data,\n  onSuccess\n}) => dispatch => {\n  // data = FormateDate(data)\n  api.dUser({}).update(id, data).then(res => {\n    dispatch({\n      type: ACTION_TYPES.UPDATE,\n      payload: {\n        id: id,\n        ...data\n      }\n    });\n    // onSuccess()\n  }).catch(err => console.log(err));\n};\nexport const delete_ = ({\n  id,\n  data,\n  onSuccess\n}) => dispatch => {\n  // data = FormateDate(data)\n  api.dUser({}).delete(id).then(res => {\n    dispatch({\n      type: ACTION_TYPES.DELETE,\n      payload: id\n    });\n    // onSuccess()\n  }).catch(err => console.log(err));\n};","map":{"version":3,"names":["api","ACTION_TYPES","CREATE","UPDATE","DELETE","FETCH_ALL","fetchAll","dispatch","dUser","then","response","type","payload","data","catch","err","console","log","create","onSuccess","res","result","json","update","id","delete_","delete"],"sources":["D:/experianProject/experian/ExperianWorkshop/src/actions/Duser.ts"],"sourcesContent":["import { AppDispatch } from \"./store\";\r\nimport api from \"./api\";\r\nimport { SignUpProps } from \"../types/form\";\r\n// export const create = (data:any) =>{\r\n//     return({\r\n//         type:'create',\r\n//         payload:data\r\n// })\r\n// } \r\ninterface onCreateProps{\r\n  data:SignUpProps;\r\n  onSuccess?: () => void; \r\n}\r\ninterface onUpdateProps extends onCreateProps{\r\n  id:string;\r\n}\r\nexport const ACTION_TYPES = {\r\n  CREATE: \"CREATE\",\r\n  UPDATE: \"UPDATE\",\r\n  DELETE: \"DELETE\",\r\n  FETCH_ALL: \"FETCH_ALL\",\r\n};\r\n\r\n// const FormateDate = (data:SignUpProps) =>({\r\n//   ...data,\r\n//   dateOfBirth\r\n// :data.dateOfBirth\r\n// })\r\n\r\nexport const fetchAll = () => (dispatch: AppDispatch) => {\r\n  api\r\n    .dUser({})\r\n    .fetchAll()\r\n    .then((response) => {\r\n      dispatch({\r\n        type: ACTION_TYPES.FETCH_ALL,\r\n        payload: response.data,\r\n      });\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\nexport const create = ({data,onSuccess}:onCreateProps)=>  (dispatch: AppDispatch) =>{\r\n// data = FormateDate(data)\r\napi.dUser({}).create(data).then(async(res)=>{\r\n  const result =await res.json()\r\n  dispatch({\r\n    type:ACTION_TYPES.CREATE,\r\n    payload:result\r\n  })\r\n  // onSuccess()\r\n}).catch(err=>console.log(err))\r\n}\r\nexport const update = ({id,data,onSuccess}:onUpdateProps)=>  (dispatch: AppDispatch) =>{\r\n  // data = FormateDate(data)\r\n  api.dUser({}).update(id,data).then(res=>{\r\n    dispatch({\r\n      type:ACTION_TYPES.UPDATE,\r\n      payload:{id:id,...data}\r\n    })\r\n    // onSuccess()\r\n  }).catch(err=>console.log(err))\r\n  }\r\n  export const delete_ = ({id,data,onSuccess}:onUpdateProps)=>  (dispatch: AppDispatch) =>{\r\n    // data = FormateDate(data)\r\n    api.dUser({}).delete(id).then(res=>{\r\n      dispatch({\r\n        type:ACTION_TYPES.DELETE,\r\n        payload:id\r\n      })\r\n      // onSuccess()\r\n    }).catch(err=>console.log(err))\r\n    }\r\n\r\n"],"mappings":"AACA,OAAOA,GAAG,MAAM,OAAO;;AAEvB;AACA;AACA;AACA;AACA;AACA;;AAQA,OAAO,MAAMC,YAAY,GAAG;EAC1BC,MAAM,EAAE,QAAQ;EAChBC,MAAM,EAAE,QAAQ;EAChBC,MAAM,EAAE,QAAQ;EAChBC,SAAS,EAAE;AACb,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAOC,QAAqB,IAAK;EACvDP,GAAG,CACAQ,KAAK,CAAC,CAAC,CAAC,CAAC,CACTF,QAAQ,CAAC,CAAC,CACVG,IAAI,CAAEC,QAAQ,IAAK;IAClBH,QAAQ,CAAC;MACPI,IAAI,EAAEV,YAAY,CAACI,SAAS;MAC5BO,OAAO,EAAEF,QAAQ,CAACG;IACpB,CAAC,CAAC;EACJ,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AACrC,CAAC;AACD,OAAO,MAAMG,MAAM,GAAGA,CAAC;EAACL,IAAI;EAACM;AAAuB,CAAC,KAAMZ,QAAqB,IAAI;EACpF;EACAP,GAAG,CAACQ,KAAK,CAAC,CAAC,CAAC,CAAC,CAACU,MAAM,CAACL,IAAI,CAAC,CAACJ,IAAI,CAAC,MAAMW,GAAG,IAAG;IAC1C,MAAMC,MAAM,GAAE,MAAMD,GAAG,CAACE,IAAI,CAAC,CAAC;IAC9Bf,QAAQ,CAAC;MACPI,IAAI,EAACV,YAAY,CAACC,MAAM;MACxBU,OAAO,EAACS;IACV,CAAC,CAAC;IACF;EACF,CAAC,CAAC,CAACP,KAAK,CAACC,GAAG,IAAEC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AAC/B,CAAC;AACD,OAAO,MAAMQ,MAAM,GAAGA,CAAC;EAACC,EAAE;EAACX,IAAI;EAACM;AAAuB,CAAC,KAAMZ,QAAqB,IAAI;EACrF;EACAP,GAAG,CAACQ,KAAK,CAAC,CAAC,CAAC,CAAC,CAACe,MAAM,CAACC,EAAE,EAACX,IAAI,CAAC,CAACJ,IAAI,CAACW,GAAG,IAAE;IACtCb,QAAQ,CAAC;MACPI,IAAI,EAACV,YAAY,CAACE,MAAM;MACxBS,OAAO,EAAC;QAACY,EAAE,EAACA,EAAE;QAAC,GAAGX;MAAI;IACxB,CAAC,CAAC;IACF;EACF,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAEC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AAC/B,CAAC;AACD,OAAO,MAAMU,OAAO,GAAGA,CAAC;EAACD,EAAE;EAACX,IAAI;EAACM;AAAuB,CAAC,KAAMZ,QAAqB,IAAI;EACtF;EACAP,GAAG,CAACQ,KAAK,CAAC,CAAC,CAAC,CAAC,CAACkB,MAAM,CAACF,EAAE,CAAC,CAACf,IAAI,CAACW,GAAG,IAAE;IACjCb,QAAQ,CAAC;MACPI,IAAI,EAACV,YAAY,CAACG,MAAM;MACxBQ,OAAO,EAACY;IACV,CAAC,CAAC;IACF;EACF,CAAC,CAAC,CAACV,KAAK,CAACC,GAAG,IAAEC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;AAC/B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}